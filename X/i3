# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout somewhen, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# Modifier Mod4 is the windows key
set $mod Mod4

# Modifier Mod1 is the Alt key

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below. ISO 10646 = Unicode
font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, if you need a lot of unicode glyphs or
# right-to-left text rendering, you should instead use pango for rendering and
# chose a FreeType font, such as:
# font pango:DejaVu Sans Mono 10

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
# bindsym $mod+Return exec i3-sensible-terminal
bindsym Mod1+Shift+Return exec urxvt

# Non-terminal application launches, notice they all use Alt+Shift+letter, as opposed to WinKey
# start firefox: deprecated, to be removed when I get a chance
bindsym Mod1+Shift+f exec firefox
# start browser: uzbl-browser
bindsym Mod1+Shift+b exec uzbl-browser

# start pdf viewer: evince
bindsym Mod1+Shift+p exec evince
# start visual editor: gvim
bindsym Mod1+Shift+g exec gvim
# start media player: vlc
bindsym Mod1+Shift+m exec vlc

# show task in the center of the screen
bindsym Mod1+Shift+t exec "urxvt -e zsh -c 'task next && zsh'"
# show wyrd in the center of the screen
bindsym Mod1+Shift+w exec "urxvt -geometry 100x35 -e wyrd"

# start crypto-coin clients: QT-reference sets
bindsym Mod1+Shift+c exec "ccManage -o blp"

# start dmenu (a program launcher)
bindsym Mod1+Shift+d exec dmenu_run
bindsym Menu exec dmenu_run
# i3 screen lock with random background (Can't have spaces in the filenames to where the images are stored)
bindsym Mod1+Shift+l exec "i3locki"
# change the desktop background
bindsym $mod+Shift+b exec --no-startup-id "fehbg"
# xrandr auto and xrandr LVDS-off
bindsym $mod+Shift+d exec "xrandr --auto && xrandr --output LVDS-1 --off"


## "Smart" buttons
# Put laptop to sleep (after locking screen)
bindsym Mod4+F1                 exec "i3locki; sudo man_suspend"

# Volume Control
bindsym XF86AudioMute           exec "amixer set Master toggle"
bindsym Mod4+F10                exec "amixer set Master toggle"
bindsym XF86AudioLowerVolume    exec "amixer set Master 5%-"
bindsym Mod4+F11                exec "amixer set Master 5%-"
bindsym XF86AudioRaiseVolume    exec "amixer set Master 5%+"
bindsym Mod4+F12                exec "amixer set Master 5%+"

# Keyboard backlight brightness binding
bindsym XF86KbdBrightnessDown   exec "sudo $HOME/bin/.scripts/kbdBacklight.sh 0"
bindsym Mod4+F3                 exec "sudo $HOME/bin/.scripts/kbdBacklight.sh 0"
bindsym XF86KbdBrightnessUp     exec "sudo $HOME/bin/.scripts/kbdBacklight.sh 1"
bindsym Mod4+F4                 exec "sudo $HOME/bin/.scripts/kbdBacklight.sh 1"

# Multimedia keys (play, pause, next, previous, stop)
bindsym XF86AudioPlay           exec "umpv -c 'cycle pause'"
bindsym Mod4+Down               exec "umpv -c 'cycle pause'"
bindsym XF86AudioNext           exec "umpv -c 'playlist_next'"
bindsym Mod4+Right              exec "umpv -c 'playlist_next'"
bindsym XF86AudioPrev           exec "umpv -c 'playlist_prev'"
bindsym Mod4+Left               exec "umpv -c 'playlist_prev'"
bindsym XF86AudioStop           exec "umpv -c 'quit'"
bindsym Mod4+Up                 exec "umpv -c 'quit'"
bindsym Control+9               exec "umpv -c 'add volume -5'"
bindsym Control+0               exec "umpv -c 'add volume 5'"

# Trackpad disable
bindsym XF86TouchpadToggle      exec "toggle_trackpad"
bindsym Mod4+F9                 exec "toggle_trackpad"

# Screencaps
bindsym --release Print         exec "scrot '%Y-%m-%d-%H:%M_$wx$h.png' -e 'mv $f ~/media/scrot/'"
bindsym --release Control+Print exec "scrot -s '%Y-%m-%d-%H:%M_$wx$h.png' -e 'mv $f ~/media/scrot/'"

# set the crypto-coin clients to be on desktop 0 CC
assign [class="Bitcoin-qt" instance="bitcoin-qt"] 0 CC
assign [class="Litecoin-qt" instance="litecoin-qt"] 0 CC
assign [class="Ppcoin-qt" instance="ppcoin-qt"] 0 CC

# mpv media que-ing player shows up on desktop 9
assign [class="mpv" instance="mpv_queued_b52b59"] 9 Media

# uzbl should default to start in tabbed mode
#for_window [class="Uzbl-core" instance="uzbl-core"] focus child, layout tabbed, focus

# Set a desktop background with feh when i3 starts up
exec --no-startup-id "fehbg"

## General setup
# Normal commands are run with $mod - further modifications to the command can be made with Shift and Control
# Shift focuses the parent container before executing the same command
# Control changes it to a move command, instead of just a focus

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
bindsym $mod+d focus child

# kill focused window
bindsym $mod+q kill
# kill parent container
bindsym $mod+Shift+q focus parent; kill

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# change focus, but first shift to parent window
bindsym $mod+Shift+h focus parent; focus left
bindsym $mod+Shift+j focus parent; focus down
bindsym $mod+Shift+k focus parent; focus up
bindsym $mod+Shift+l focus parent; focus right

# move focused window
bindsym $mod+Control+h move left
bindsym $mod+Control+j move down
bindsym $mod+Control+k move up
bindsym $mod+Control+l move right

# move parent containers
bindsym $mod+Shift+Control+h focus parent; move left
bindsym $mod+Shift+Control+j focus parent; move down
bindsym $mod+Shift+Control+k focus parent; move up
bindsym $mod+Shift+Control+l focus parent; move right

# split in horizontal orientation (here and parent)
bindsym $mod+z split h
bindsym $mod+Shift+z focus parent; split h

# split in vertical orientation
bindsym $mod+v split v
bindsym $mod+Shift+v focus parent; split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen
bindsym $mod+Shift+f focus parent; fullscreen

# change container layout (stacked, tabbed, toggle split)
# Notice the split v before everything, that's to preserve the "child/parent" setup I have
# layout doesn't create that layout as a new container, but modifies the current one
# split creates a new container, so then that can have its layout changed
bindsym $mod+s split v; layout stacking
bindsym $mod+Shift+s layout stacking
bindsym $mod+w split v; layout tabbed
bindsym $mod+Shift+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+Shift+e focus parent; layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 0
bindsym $mod+x workspace back_and_forth
workspace_auto_back_and_forth yes

# move focused container to workspace
bindsym $mod+Control+1 move container to workspace number 1
bindsym $mod+Control+2 move container to workspace number 2
bindsym $mod+Control+3 move container to workspace number 3
bindsym $mod+Control+4 move container to workspace number 4
bindsym $mod+Control+5 move container to workspace number 5
bindsym $mod+Control+6 move container to workspace number 6
bindsym $mod+Control+7 move container to workspace number 7
bindsym $mod+Control+8 move container to workspace number 8
bindsym $mod+Control+9 move container to workspace number 9
bindsym $mod+Control+0 move container to workspace number 0
bindsym $mod+Control+x move container to workspace back_and_forth

# move parent container to workspace
bindsym $mod+Shift+Control+1 focus parent; move container to workspace number 1
bindsym $mod+Shift+Control+2 focus parent; move container to workspace number 2
bindsym $mod+Shift+Control+3 focus parent; move container to workspace number 3
bindsym $mod+Shift+Control+4 focus parent; move container to workspace number 4
bindsym $mod+Shift+Control+5 focus parent; move container to workspace number 5
bindsym $mod+Shift+Control+6 focus parent; move container to workspace number 6
bindsym $mod+Shift+Control+7 focus parent; move container to workspace number 7
bindsym $mod+Shift+Control+8 focus parent; move container to workspace number 8
bindsym $mod+Shift+Control+9 focus parent; move container to workspace number 9
bindsym $mod+Shift+Control+0 focus parent; move container to workspace number 0
bindsym $mod+Shift+Control+x focus parent; move container to workspace back_and_forth

# Move the focused container to LVDS-1, VGA-1, or HDMI-1 output
bindsym $mod+Mod1+1 move container to output LVDS-1
bindsym $mod+Mod1+2 move container to output VGA-1
bindsym $mod+Mod1+3 move container to output HDMI-1
# Move the focused workspace to LVDS-1, VGA-1, or HDMI-1 output
bindsym $mod+Mod1+Shift+1 move workspace to output LVDS-1
bindsym $mod+Mod1+Shift+2 move workspace to output VGA-1
bindsym $mod+Mod1+Shift+3 move workspace to output HDMI-1

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+Escape exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
    # These bindings trigger as soon as you enter the resize mode

    # Pressing left will shrink the window’s width.
    # Pressing right will grow the window’s width.
    # Pressing up will shrink the window’s height.
    # Pressing down will grow the window’s height.
    bindsym h resize shrink width 10 px or 10 ppt
    bindsym k resize grow height 10 px or 10 ppt
    bindsym j resize shrink height 10 px or 10 ppt
    bindsym l resize grow width 10 px or 10 ppt

    # same bindings, but for the arrow keys
    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Down resize grow height 10 px or 10 ppt
    bindsym Up resize shrink height 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"
#Conflicts with restarting i3
#bindsym $mod+Shift+r focus parent; mode "resize"


## Theme settings pulled from github.com/xkonni/config_i3 and modified
# Solarized theme
# black dark/light
set $color00 #073642
set $color08 #151515
# red dark/light
set $color01 #DC322F
set $color09 #CB4B16
# green dark/light
set $color02 #859900
set $color10 #B3CD01
# yellow dark/light
set $color03 #B58900
set $color11 #F4C32F
# blue dark/light
set $color04 #246DC0
set $color12 #30A6F8
# magenta dark/light
set $color05 #D33682
set $color13 #6C71C4
# cyan dark/light
set $color06 #00AFFF
set $color14 #69B3AD
# white dark/light
set $color07 #EEE8D5
set $color15 #FDF6E3
# background
set $background #3F3F3F

# Border style
new_window 1pixel
new_float normal
hide_edge_borders both

# Client colors
# colorclass <border> <bg> <text> <indicator>
client.focused $color04 $color04 $color07 $color01
client.focused_inactive $background $background $color07 $color09
client.unfocused $background $background $color12 $color10
client.urgent $background $background $color02 $color10


## Start i3bar to display a workspace bar (plus the system information i3status finds out, if available)
# On primary monitor (now just setup to be same on all monitors)
bar {
    #output LVDS-1
    tray_output primary
    position bottom
    mode dock
    workspace_buttons yes
    font -misc-fixed-medium-r-normal--13-120-75-75-c-70-iso10646-1
    colors {
        background $color08
        statusline $color06

        # colorclass <border> <bg> <text>
        focused_workspace $color04 $color04 $color15
        active_workspace $color04 $background $color15
        inactive_workspace $background $background $color06
        urgent_workspace $background $background $color02
    }
    status_command i3blocks
}
## Start i3bar to display a workspace bar (plus the system information i3status finds out, if available)
# On secondary monitors
#bar {
#    output VGA-1
#    output HDMI-1
#    tray_output none
#    position bottom
#    mode hide
#    workspace_buttons yes
#    font -misc-fixed-medium-r-normal--13-120-75-75-c-70-iso10646-1
#    colors {
#        background $color08
#        statusline $color06
#
#        # colorclass <border> <bg> <text>
#        focused_workspace $color04 $color04 $color15
#        active_workspace $color04 $background $color15
#        inactive_workspace $background $background $color06
#        urgent_workspace $background $background $color02
#    }
#    status_command i3blocks
#}

